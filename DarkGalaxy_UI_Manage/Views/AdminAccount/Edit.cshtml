@model DarkGalaxy_Model.AdminAccount

@{
    ViewBag.Title = "编辑管理员帐户";
    Layout = "~/Views/Shared/_TabLayout.cshtml";
}

@using (Ajax.BeginForm("Edit", "AdminAccount", new AjaxOptions
{
    HttpMethod = "POST",
    OnSuccess = "Success",
}, new
{
    @class = "layui-form layui-form-pane"
}))
{
    <input id="ID" name="ID" type="hidden" value="@Model.ID" />
    <!-- 帐户 -->
    <fieldset class="layui-elem-field layui-field-title dgalaxy-title">
        <legend>帐户</legend>
    </fieldset>
    <div class="layui-form-item">
        <label class="layui-form-label">帐号<span class="dgalaxy-required">*</span></label>
        <div class="layui-input-block">
            <input name="UserName" class="layui-input" type="text" lay-verify="required" placeholder="请输入管理员帐号" autocomplete="off" value="@Model.UserName" readonly="readonly">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">密码<span class="dgalaxy-required">*</span></label>
        <div class="layui-input-block">
            <input name="Password" class="layui-input" type="password" lay-verify="required" placeholder="请输入管理员密码" autocomplete="off">
        </div>
    </div>
    <div class="layui-form-item text-center">
        <button class="layui-btn" lay-filter="Save" lay-submit="">保存</button>
        <button class="layui-btn layui-btn-primary" type="reset">重置</button>
    </div>
}

@section Foot
{
    <!-- layui -->
    <script>
        //加载表单
        layui.use('form', function () {
            var form = layui.form;
        });
    </script>
    <!-- 表单异步提交 -->
    <script>
        function Success(data) {
            layui.use('layer', function () {
                //弹出提示消息
                layer.open({
                    type: 0,
                    title: '提示信息',
                    content: data.Message,
                    time: 5000,
                    resize: false,
                    end: function () {
                        if (200 == data.Code) {
                            //关闭父级弹出层
                            var index = parent.layer.getFrameIndex(window.name);
                            parent.layer.close(index);
                        }
                        else{ }
                    }
                });
            });
        }
    </script>
}